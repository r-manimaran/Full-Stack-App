{
    "containerDefinitions":[
        {
            "name":"consul-service",
            "image":"395109667422.dkr.ecr.us-east-1.amazonaws.com/consul-repo:1.16",
            "cpu":0,
            "portMappings":[
                {
                    "containerPort":8500,
                    "protocol":"tcp",
                    "hostPort":8500,
                    "name":"consul-service"
                }
            ],
            "essential":true,
            "entryPoint":[
                "sh",
                "-c"
            ],
            "command":[
                "BIND_IP=$(hostname -i | head -1 | awk '{print $1}') && echo \\\"Using IP:$BIND_IP\\\" && consul agent -server -bootstrap-expect=1 -ui -ui-content-path=/consul -client=0.0.0.0 -bind=$BIND_IP -advertise=$BIND_IP -datacenter=dc1 -data-dir=/consul/data -hcl='limits { http_max_conns_per_client = 200}'"
            ],
            "environment":[],
            "mountPoints":[],
            "volumesFrom":[],
            "logConfiguration": {
                "logDriver": "awslogs",
                "options": {
                    "awslogs-group": "/aws/ecs/consul-service",
                    "awslogs-region": "us-east-1",
                    "awslogs-stream-prefix": "consul-service"
                }
            },
            "systemControls":[]
        }
    ],
    "family":"ecs-consul-service",
    "taskRoleArn":"arn:aws:iam::395109667422:role/ecsTaskExecutionRole",
    "executionRoleArn":"arn:aws:iam::395109667422:role/microservices-ecs-task-execution-role",
    "networkMode":"awsvpc",
    "volumes":[],
    "placementConstraints":[],
    "runtimePlatform": {
        "cpuArchitecture": "X86_64",
        "operatingSystemFamily": "LINUX"
    },
    "requiresCompatibilities":[
        "FARGATE"
    ],
    "cpu":"256",
    "memory":"512"
}